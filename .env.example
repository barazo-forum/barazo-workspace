# =============================================================================
# Barazo Development Environment
# =============================================================================
# Copy to .env and adjust values as needed.
# This file configures both barazo-api and barazo-web for local development.

# --- Database (PostgreSQL with pgvector) --- used by: barazo-api
DATABASE_URL=postgresql://barazo:barazo_dev@localhost:5432/barazo

# --- Cache (Valkey) --- used by: barazo-api
VALKEY_URL=redis://localhost:6379

# --- Tap (AT Protocol firehose consumer) --- used by: barazo-api
TAP_URL=http://localhost:2480
TAP_ADMIN_PASSWORD=tap_dev_secret

# --- Community --- used by: barazo-api
COMMUNITY_MODE=single
COMMUNITY_DID=
COMMUNITY_NAME=Barazo Dev Community

# --- API Server --- used by: barazo-api
HOST=0.0.0.0
PORT=3000
LOG_LEVEL=debug

# --- CORS --- used by: barazo-api
CORS_ORIGINS=http://localhost:3001

# --- Rate Limiting (requests per minute) --- used by: barazo-api
RATE_LIMIT_AUTH=10
RATE_LIMIT_WRITE=10
RATE_LIMIT_READ_ANON=100
RATE_LIMIT_READ_AUTH=300

# --- OAuth (AT Protocol) --- used by: barazo-api
OAUTH_CLIENT_ID=http://localhost?redirect_uri=http%3A%2F%2F127.0.0.1%3A3000%2Fapi%2Fauth%2Fcallback
OAUTH_REDIRECT_URI=http://127.0.0.1:3000/api/auth/callback
SESSION_SECRET=your-session-secret-minimum-32-characters-long
OAUTH_SESSION_TTL=604800
OAUTH_ACCESS_TOKEN_TTL=900

# --- Error Monitoring (GlitchTip - Sentry SDK compatible) --- used by: barazo-api
GLITCHTIP_DSN=

# --- Frontend URLs --- used by: barazo-web
NEXT_PUBLIC_API_URL=http://localhost:3000/api
NEXT_PUBLIC_SITE_URL=http://localhost:3001

# --- Optional: Embedding API (enables semantic search) --- used by: barazo-api
EMBEDDING_URL=
